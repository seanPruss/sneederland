# Setup monitors
monitor=,highres,auto,1

# See https://wiki.hyprland.org/Configuring/Keywords/ for more

# Execute your favorite apps at launch
exec-once = dbus-update-activation-environment --systemd WAYLAND_DISPLAY XDG_CURRENT_DESKTOP
exec-once = systemctl --user import-environment
exec-once = systemctl --user start graphical-session.target
exec-once = systemctl --user enable --now hyprpolkitagent.service
exec-once = systemctl --user enable --now pypr.service
exec-once = start-gammastep.sh
exec-once = hyprland-autostart.sh
exec-once = colour-scheme-selector.sh random
# if this is commented out rn plugins probably don't work
exec-once = hyprpm reload -nn
exec-once = uwsm-app -- nm-applet --indicator
exec-once = wl-paste --watch cliphist store
exec-once = systemctl --user enable --now battery-notify.service
exec = tldr --update
exec = systemctl --user enable --now waybar.service
exec = systemctl --user enable --now hyprpaper.service
exec = hyprland-restart.sh
exec = bat cache --build

# For all categories, see https://wiki.hyprland.org/Configuring/Variables/
input {
    kb_layout = us
    kb_variant =
    kb_model =
    kb_rules =

    follow_mouse = 1

    touchpad {
        natural_scroll = yes
    }

    sensitivity = 0 # -1.0 - 1.0, 0 means no modification.
}

general {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    gaps_in = 4
    gaps_out = 2
    layout = dwindle
    border_size = 3
}

decoration {
    # See https://wiki.hyprland.org/Configuring/Variables/ for more
    rounding = 10

    blur {
        enabled = true
        size = 2
        passes = 2
        new_optimizations = true
        xray = true
    }
}

animations {
    enabled = true
    # Animation curves
    bezier = linear, 1, 1, 1, 1
    bezier = md3_standard, 0.2, 0, 0, 1
    bezier = md3_decel, 0.05, 0.7, 0.1, 1
    bezier = md3_accel, 0.3, 0, 0.8, 0.15
    bezier = overshot, 0.05, 0.9, 0.1, 1.1
    bezier = crazyshot, 0.1, 1.5, 0.76, 0.92 
    bezier = hyprnostretch, 0.05, 0.9, 0.1, 1.0
    bezier = menu_decel, 0.1, 1, 0, 1
    bezier = menu_accel, 0.38, 0.04, 1, 0.07
    bezier = easeInOutCirc, 0.85, 0, 0.15, 1
    bezier = easeOutCirc, 0, 0.55, 0.45, 1
    bezier = easeOutExpo, 0.16, 1, 0.3, 1
    bezier = softAcDecel, 0.26, 0.26, 0.15, 1
    bezier = md2, 0.4, 0, 0.2, 1
    animation = windows, 1, 3, md3_decel, slide
    animation = border, 1, 1, linear
    animation = borderangle, 1, 30, linear, loop
    animation = fade, 1, 3, md3_decel
    animation = layersIn, 1, 2, md3_decel, slide
    animation = fadeLayersIn, 1, 2, menu_decel
    animation = workspaces, 1, 2.5, softAcDecel, slide
    animation = specialWorkspace, 1, 3, md3_decel, slidevert
}

dwindle {
    # See https://wiki.hyprland.org/Configuring/Dwindle-Layout/ for more
    pseudotile = yes
    preserve_split = yes # you probably want this
}

master {
    # See https://wiki.hyprland.org/Configuring/Master-Layout/ for more
    new_status = slave
}

plugin {
    dynamic-cursors {
        enabled = true
        mode = tilt

        threshold = 2

        rotate {
            length = 20
            offset = 0.0
        }

        tilt {
            limit = 5000
            function = negative_quadratic
        }

        stretch {
            limit = 3000
            function = negative_quadratic
        }

        shake {
            enabled = true
            nearest = false
            threshold = 6.0
            base = 4.0
            speed = 4.0
            influence = 0.0
            limit = 0.0
            timeout = 2000
            effects = false
            ipc = false
        }

        hyprcursor {
            nearest = false
            enabled = true
            resolution = -1
            fallback = clientside
        }
    }
    hyprfocus {
        mode = slide
    }
}

misc {
    vfr = true
    disable_hyprland_logo = true
}

# Example per-device config
# See https://wiki.hyprland.org/Configuring/Keywords/#executing for more
# device:epic mouse V1 {
#     sensitivity = -0.5
# }

windowrule = opacity 0.9 0.9 1, floating:1
windowrule = float,class:^(io.github.kaii_lb.Overskride)$,
windowrule = size 50% 50%,class:^(io.github.kaii_lb.Overskride)$,
windowrule = move 25% 25%,class:^(io.github.kaii_lb.Overskride)$,
windowrule = float,class:^(org.test.pulsecontrol)$,
windowrule = size 50% 50%,class:^(org.test.pulsecontrol)$,
windowrule = move 25% 25%,class:^(org.test.pulsecontrol)$,
windowrule = float,class:^(Spotify)$,
windowrule = size 90% 90%,class:^(Spotify)$,
windowrule = move 5% 5%,class:^(Spotify)$,
windowrule = float,class:^(waypaper)$,
windowrule = size 80% 90%,class:^(waypaper)$,
windowrule = move 10% 5%,class:^(waypaper)$,
windowrule = float,class:^(thunderbird)$,
windowrule = size 90% 90%,class:^(thunderbird)$,
windowrule = move 5% 5%,class:^(thunderbird)$,
windowrule = float,class:^(ghostty.btop)$,
windowrule = size 90% 90%,class:^(ghostty.btop)$,
windowrule = move 5% 5%,class:^(ghostty.btop)$,
windowrule = float,class:^(ghostty.postinstall)$,
windowrule = size 90% 90%,class:^(ghostty.postinstall)$,
windowrule = move 5% 5%,class:^(ghostty.postinstall)$,
windowrule = opacity 1.0 override 1.0 override 1.0 override, class:^(ghostty.btop)$,
windowrule = opacity 1.0 override 1.0 override 1.0 override, class:^(ghostty.update)$,
windowrule = opacity 1.0 override 1.0 override 1.0 override, class:^(ghostty.postinstall)$,
windowrule = opacity 1.0 override 1.0 override 1.0 override, class:^(swappy)$,
# See https://wiki.hyprland.org/Configuring/Window-Rules/ for more
# rules below would make the specific app transparent


# See https://wiki.hyprland.org/Configuring/Keywords/ for more
$mainMod = SUPER

# Example binds, see https://wiki.hyprland.org/Configuring/Binds/ for more
bindd = $mainMod, F, Maximize window, fullscreen, 1
bindd = $mainMod SHIFT, F, Fullscreen window, fullscreen, 0
bindd = $mainMod, Q, Close window, killactive,
bindd = $mainMod, Return, Terminal, exec, uwsm-terminal
bindd = $mainMod, B, Browser, exec, uwsm-app zen-browser
bindd = $mainMod, D, Discord, exec, uwsm-app vesktop
bindd = $mainMod, M, Power menu, exec, powermenu.sh
bindd = $mainMod, SPACE, App menu, exec, rofi -show drun -run-command "uwsm-app -- {cmd}" -theme app-menu.rasi
bindd = $mainMod, TAB, Active windows, exec, rofi -show window -run-command "uwsm-app -- {cmd}" -theme app-menu.rasi
bindd = $mainMod SHIFT, E, Emoji selector, exec, rofimoji -a copy
bindd = $mainMod, S, Spotify, exec, uwsm-app spotify-launcher
bindd = $mainMod, E, Email, exec, pypr-client toggle thunderbird
bindd = $mainMod SHIFT, S, Take a screenshot, exec, hyprshot-util.sh
bindd = $mainMod SHIFT, B, Bluetooth menu, exec, uwsm-app overskride
bindd = $mainMod, U, Update system, exec, pypr-client toggle update
bindd = $mainMod, V, Volume menu, exec, uwsm-app pulsecontrol
bindd = $mainMod, W, Choose wallpaper, exec, uwsm-app waypaper
bindd = $mainMod, R, Reload Hyprland, exec, hyprctl reload
bindd = $mainMod, T, System monitor, exec, uwsm-app -- ghostty --class="ghostty.btop" -e btop.sh
bindd = $mainMod, C, Change theme, exec, colour-scheme-selector.sh choose
bindd = $mainMod SHIFT, V, Clipboard history, exec, cliphist list | rofi -dmenu -i | cliphist decode | wl-copy
bindd = $mainMod SHIFT, W, Wipe clipboard history, exec, cliphist wipe
bindd = $mainMod, slash, Show keybindings, exec, hyprland-keybinds.sh

# Media keys to change volume
bind = , XF86AudioRaiseVolume, exec, change-volume.sh up
bind = , XF86AudioLowerVolume, exec, change-volume.sh down
bind = , XF86AudioMute, exec, change-volume.sh mute

# Change brightness
bind = , XF86MonBrightnessUp, exec, change-brightness.sh up
bind = , XF86MonBrightnessDown, exec, change-brightness.sh down

# Play/pause with media keys
bind = , XF86AudioPlay, exec, playerctl play-pause
bind = , XF86AudioNext, exec, playerctl next
bind = , XF86AudioPrev, exec, playerctl previous

# navigate windows with vim keys
bindd = $mainMod, h, Move window focus left, movefocus, l
bindd = $mainMod, j, Move window focus down, movefocus, d
bindd = $mainMod, k, Move window focus up, movefocus, u
bindd = $mainMod, l, Move window focus right, movefocus, r

# move windows with vim keys
bindd = $mainMod SHIFT, h, Move window left, movewindow, l
bindd = $mainMod SHIFT, j, Move window down, movewindow, d
bindd = $mainMod SHIFT, k, Move window up, movewindow, u
bindd = $mainMod SHIFT, l, Move window right, movewindow, r

# Switch workspaces with mainMod + [0-9]
bindd = $mainMod, 1, switch to workspace 1, workspace, 1
bindd = $mainMod, 2, switch to workspace 2, workspace, 2
bindd = $mainMod, 3, switch to workspace 3, workspace, 3
bindd = $mainMod, 4, switch to workspace 4, workspace, 4
bindd = $mainMod, 5, switch to workspace 5, workspace, 5
bindd = $mainMod, 6, switch to workspace 6, workspace, 6
bindd = $mainMod, 7, switch to workspace 7, workspace, 7
bindd = $mainMod, 8, switch to workspace 8, workspace, 8
bindd = $mainMod, 9, switch to workspace 9, workspace, 9
bindd = $mainMod, 0, switch to workspace 10, workspace, 10

# Move active window to a workspace with mainMod + SHIFT + [0-9]
bindd = $mainMod SHIFT, 1, Move window to workspace 1, movetoworkspace, 1
bindd = $mainMod SHIFT, 2, Move window to workspace 2, movetoworkspace, 2
bindd = $mainMod SHIFT, 3, Move window to workspace 3, movetoworkspace, 3
bindd = $mainMod SHIFT, 4, Move window to workspace 4, movetoworkspace, 4
bindd = $mainMod SHIFT, 5, Move window to workspace 5, movetoworkspace, 5
bindd = $mainMod SHIFT, 6, Move window to workspace 6, movetoworkspace, 6
bindd = $mainMod SHIFT, 7, Move window to workspace 7, movetoworkspace, 7
bindd = $mainMod SHIFT, 8, Move window to workspace 8, movetoworkspace, 8
bindd = $mainMod SHIFT, 9, Move window to workspace 9, movetoworkspace, 9
bindd = $mainMod SHIFT, 0, Move window to workspace 10, movetoworkspace, 10

workspace = special:exposed,gapsout:60,gapsin:30,bordersize:5,border:true,shadow:false

# Move/resize windows with mainMod + LMB/RMB and dragging
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

# Source a file (multi-file configs)
source = ~/.config/hypr/env_var.conf
